<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>PF: Параметри</title>
<link rev="made" href="mailto:www@openbsd.org">
<meta http-equiv="Content-Type" content="text/html; charset=windows-1251">
<meta name="resource-type" content="document">
<meta name="description"   content="the OpenBSD FAQ page">
<meta name="keywords"      content="openbsd,faq,pf">
<meta name="distribution"  content="global">
<meta name="copyright"     content="This document copyright 2002-2003 by OpenBSD.">
</head>

<body bgcolor="#ffffff" text="#000000">

<img alt="[OpenBSD]" height=30 width=141 src="../../../images/smalltitle.gif">
<p>
[<a href="tables.html">Преди: Таблици</a>]
[<a href="index.html">Съдържание</a>]
[<a href="scrub.html">Следва: Пречистване(Scrub)</a>]

<p>
<h1><font color="#e00000">PF: Параметри</font></h1>

<hr>

<p>
Параметрите се използват за контролиране работата на PF. Те се
указват в <tt>/etc/pf.conf</tt> с помощта на директива <tt>set</tt>.

<a name="block-policy"></a>
<p>
<dl>
<dt><b><tt>set block-policy</tt></b><br>
<dd>Установява подразбиращото се поведение на <a href="filter.html">правилата
за филтриране</a>, който определят <tt>block</tt> действието
<ul>
<li><tt>drop</tt> - пакета мълчаливо се отхвърля
<li><tt>return</tt> - TCP RST се връща за блокираните TCP пакети и
ICMP UNREACHABLE пакет се връща за блокираните UDP пакети. Всички други
пакети мълчаливо се отхвърлят.
</ul>
<dd>Забележете, че отделни правила за филтриране, могат да отменят поведението
по подразбиране.
</dl>

<a name="limit"></a>
<p>
<dl>
<dt><b><tt>set limit</tt></b>
<dd><tt>frags</tt> - максимален брой на записите в memory pool, използван за
възстановяване (reassembly) на пакети (<a href="scrub.html">scrub</a> правила).
Стойност по подразбиране - 5000.
<dd><tt>states</tt> - максимален брой на записите в memory pool, използван за
записи в таблица на състоянието (<a href="filter.html">правила за 
филтриране</a>, които указват <tt>keep state</tt>).
Стойност по подразбиране - 10000.
</dl>

<a name="loginterface"></a>
<p>
<dl>
<dt><b><tt>set loginterface <i>int</i></tt></b><br>
<dd>Установява интерфейса, за който PF да натрупва статистически данни за
входящи/изходящи байтове и пропуснати/блокирани пакети. Данните могат да
се натрупват само за <i>един</i> интерфейс в дадения интервал от време.
Забележете, че <tt>match</tt>, <tt>bad-offset</tt> и т.н. броячи и броячите
в таблицата на състоянията се записват, независимо дали <tt>loginterface</tt>
е установен или не.
</dl>

<a name="optimization"></a>
<p>
<dl>
<dt><b><tt>set optimization</tt></b><br>
<dd>Оптимизира PF за едно от следните мрежови обкръжения:
<ul>
<li><tt>normal</tt> - подходящо за повечето мрежи. Стойност по подразбиране
<li><tt>high-latency</tt> - мрежи с голяма латентност, като например сателитни
връзки
<li><tt>aggressive</tt> - агресивно премахва връзки от таблицата на 
състоянията. Това може да съкрати до голяма степен изискванията за памет на
особено натоварени firewalls, с риск да прекъсне преждевременно бездействащите
 (idle) връзки
<li><tt>conservative</tt> - изключително консервативно конфигуриране. То
предотвратява прекъсването на бездействащи (idle) връзки, но с цената на 
по-голямо натоварване за процесора и използване на повече памет.
</ul>
</dl>

<a name="timeout"></a>
<p>
<dl>
<dt><b><tt>set timeout</tt></b>
<dd><tt>interval</tt> - интервал в секунди между изчистването на изтеклите 
състояния и фрагментите от пакети
<dd><tt>frag</tt> -интервал в секунди преди невъзстановен фрагмент да стане 
негоден
</dl>

<p>
Пример:
<p>
<table border=0 width="650">
<tr><td nowrap bgcolor="#EEEEEE">
<pre>
set timeout interval 10
set timeout frag 30
set limit { frags 5000, states 2500 }
set optimization high-latency
set block-policy return
set loginterface dc0
</pre>
</td></tr>
</table>


<p>
[<a href="tables.html">Преди: Таблици</a>]
[<a href="index.html">Съдържание</a>]
[<a href="scrub.html">Следва: Пречистване(Scrub)</a>]


<p>
<hr>
<a href="index.html"><img height="24" width="24" src="../../../images/back.gif" border="0" alt="[back]"></a> 
<a href="mailto:www@openbsd.org">www@openbsd.org</a>
<br>
<small>
Оригинал: [ OpenBSD: options.html,v 1.2 2003/07/09 00:54:22 nick Exp ]<br>
$BgOBSD$<br>
$Translation$<br>
$OpenBSD$<br>
</small>

</body>
</html> 
